{"ast":null,"code":"export default {\n  name: \"WritingView\",\n  data() {\n    return {\n      user: {},\n      form: {},\n      language: '1',\n      active: 0\n    };\n  },\n  created() {\n    this.getUser();\n    this.form.username = this.user.username;\n    this.form.callPhone = this.user.phone;\n    this.form.fromAddress = this.user.address;\n  },\n  methods: {\n    getUser() {\n      return this.axios.get(\"/user/local\").then(res => {\n        let result = res.data;\n        if (result.code == 'C200') {\n          this.user = result.data;\n        } else {\n          this.$message.error(\"请稍后重试\");\n        }\n      });\n    },\n    last() {\n      if (this.active-- == 0) this.active = 0;\n    },\n    next() {\n      if (this.active++ > 2) this.active = 0;\n    },\n    upload() {\n      this.axios.post(\"/letter/upload\", this.form).then(res => {\n        let result = res.data;\n        if (result.code == 'C200') {\n          this.$message.success(\"上传成功\");\n          this.form = {};\n          this.next();\n        } else {\n          this.$message.error(result.msg);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","form","language","active","created","getUser","username","callPhone","phone","fromAddress","address","methods","axios","get","then","res","result","code","$message","error","last","next","upload","post","success","msg"],"sources":["src/views/shopview/WritingView.vue"],"sourcesContent":["<template>\n    <div style=\"margin: 20px auto 20px auto\">\n        <div style=\"width: 100px; height: 600px; float: left; margin: 20px auto;\">\n            <el-steps direction=\"vertical\" :active=\"active\" finish-status=\"success\" align-center>\n            <el-step title=\"写信\" icon=\"el-icon-edit\"></el-step>\n            <el-step title=\"信息\" icon=\"el-icon-info\"></el-step>\n            <el-step title=\"类型\" icon=\"el-icon-picture\"></el-step>\n            <el-step title=\"上传\" icon=\"el-icon-upload\"></el-step>\n            </el-steps>\n        </div>\n        <div style=\"float: right; width: 1100px;\">\n            <el-form ref=\"form\" :model=\"form\">\n                <div v-if=\"active===0\">\n                    <el-form-item>\n                        <el-input style=\"font-size: large;\" type=\"textarea\" rows=\"22\" placeholder=\"请输入内容\" v-model=\"form.textarea\" maxlength=\"500\" show-word-limit></el-input>\n                    </el-form-item>\n                </div>\n                <div v-else-if=\"active===1\">\n                    <el-form-item label=\"收件方\">\n                        <el-input v-model=\"form.receiver\" style=\"margin: 20px 20px 20px auto;\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"收件电话\">\n                        <el-input v-model=\"form.receiverPhone\" style=\"margin: 20px 20px 20px auto;\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"目的地址\">\n                        <el-input v-model=\"form.toAddress\" style=\"margin: 20px 20px 20px auto;\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"邮编\">\n                        <el-input v-model=\"form.postalCode\" style=\"margin: 20px 20px 20px auto;\"></el-input>\n                    </el-form-item>\n                </div>\n                <div v-else-if=\"active===2\">\n                    <el-form-item label=\"信纸类型\">\n                        <el-select v-model=\"form.paperId\" placeholder=\"请选择信纸类型\">\n                            <el-option label=\"胶版纸\" value=\"1\"></el-option>\n                            <el-option label=\"书写纸\" value=\"2\"></el-option>\n                            <el-option label=\"轻涂纸\" value=\"3\"></el-option>\n                            <el-option label=\"轻型纸\" value=\"4\"></el-option>\n                            <el-option label=\"白卡纸\" value=\"5\"></el-option>\n                            <el-option label=\"电子版\" value=\"6\"></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"信封类型\">\n                        <el-select v-model=\"form.coverId\" placeholder=\"请选择信封类型\">\n                            <el-option label=\"中式信封\" value=\"1\"></el-option>\n                            <el-option label=\"西式信封\" value=\"2\"></el-option>\n                            <el-option label=\"菱形信封\" value=\"3\"></el-option>\n                            <el-option label=\"档案袋\" value=\"4\"></el-option>\n                            <el-option label=\"开窗信封\" value=\"5\"></el-option>\n                            <el-option label=\"电子信封\" value=\"6\"></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"语言\">\n                        <el-radio-group v-model=\"language\">\n                            <el-radio label=\"1\">中文</el-radio>\n                            <el-radio label=\"2\">英文</el-radio>\n                        </el-radio-group>\n                    </el-form-item>\n                    <div v-if=\"language === '1'\">\n                        <el-form-item label=\"字体\">\n                            <el-select v-model=\"form.inkId\" placeholder=\"请选择字体样式\">\n                                <el-option label=\"coki\" value=\"1\"></el-option>\n                                <el-option label=\"WCF\" value=\"2\"></el-option>\n                                <el-option label=\"WF\" value=\"3\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                    </div>\n                    <div v-else>\n                        <el-form-item label=\"字体\">\n                            <el-select v-model=\"form.inkId\" placeholder=\"请选择字体样式\">\n                                <el-option label=\"willion\" value=\"4\"></el-option>\n                                <el-option label=\"family\" value=\"5\"></el-option>\n                                <el-option label=\"romeobohemian\" value=\"6\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                    </div>\n                </div>\n            </el-form>\n            <div style=\"float: bottom;\">\n                <div v-if=\"active === 3\">\n                    <el-popconfirm title=\"确定重置吗？\" @confirm=\"next\">\n                        <el-button slot=\"reference\" style=\"margin-top: 12px; margin-right: 12px;\">重置</el-button>\n                    </el-popconfirm>\n                    <el-button style=\"margin-top: 12px;\" @click=\"upload\">完成</el-button>\n                </div>\n                <div v-else-if=\"action === 0\">\n                    <el-button style=\"margin-top: 12px;\" @click=\"next\">下一步</el-button>\n                </div>\n                <div v-else>\n                    <el-button style=\"margin-top: 12px;\" @click=\"last\">上一步</el-button>\n                    <el-button style=\"margin-top: 12px;\" @click=\"next\">下一步</el-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"WritingView\",\n    data() {\n        return {\n            user: {},\n            form: {},\n            language: '1',\n            active: 0\n        }\n    },\n    created() {\n        this.getUser();\n        this.form.username = this.user.username;\n        this.form.callPhone = this.user.phone;\n        this.form.fromAddress = this.user.address;\n    },\n    methods: {\n        getUser() {\n            return this.axios.get(\"/user/local\").then(res => {\n                let result = res.data;\n                if (result.code == 'C200') {\n                    this.user = result.data;\n                } else {\n                    this.$message.error(\"请稍后重试\");\n                }\n            });\n        },\n        last() {\n            if (this.active-- == 0) this.active = 0;\n        },\n        next() {\n            if (this.active++ > 2) this.active = 0;\n        },\n        upload() {\n            this.axios.post(\"/letter/upload\", this.form).then(res => {\n                let result = res.data;\n                if (result.code == 'C200') {\n                    this.$message.success(\"上传成功\");\n                    this.form = {};\n                    this.next();\n                } else {\n                    this.$message.error(result.msg);\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":"AAkGA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,IAAA;MACAC,QAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA;IACA,KAAAJ,IAAA,CAAAK,QAAA,QAAAN,IAAA,CAAAM,QAAA;IACA,KAAAL,IAAA,CAAAM,SAAA,QAAAP,IAAA,CAAAQ,KAAA;IACA,KAAAP,IAAA,CAAAQ,WAAA,QAAAT,IAAA,CAAAU,OAAA;EACA;EACAC,OAAA;IACAN,QAAA;MACA,YAAAO,KAAA,CAAAC,GAAA,gBAAAC,IAAA,CAAAC,GAAA;QACA,IAAAC,MAAA,GAAAD,GAAA,CAAAhB,IAAA;QACA,IAAAiB,MAAA,CAAAC,IAAA;UACA,KAAAjB,IAAA,GAAAgB,MAAA,CAAAjB,IAAA;QACA;UACA,KAAAmB,QAAA,CAAAC,KAAA;QACA;MACA;IACA;IACAC,KAAA;MACA,SAAAjB,MAAA,cAAAA,MAAA;IACA;IACAkB,KAAA;MACA,SAAAlB,MAAA,aAAAA,MAAA;IACA;IACAmB,OAAA;MACA,KAAAV,KAAA,CAAAW,IAAA,wBAAAtB,IAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,IAAAC,MAAA,GAAAD,GAAA,CAAAhB,IAAA;QACA,IAAAiB,MAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAM,OAAA;UACA,KAAAvB,IAAA;UACA,KAAAoB,IAAA;QACA;UACA,KAAAH,QAAA,CAAAC,KAAA,CAAAH,MAAA,CAAAS,GAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}