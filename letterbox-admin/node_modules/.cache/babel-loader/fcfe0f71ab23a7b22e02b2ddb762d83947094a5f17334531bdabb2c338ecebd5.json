{"ast":null,"code":"export default {\n  name: \"CategoryView\",\n  data() {\n    return {\n      categoryData: [],\n      categoryName: \"\",\n      tableData: [],\n      pageNum: 1,\n      pageSize: 5,\n      total: 0\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      this.axios.get(\"/category/all\").then(res => {\n        let result = res.data;\n        if (result.code === 'C200') {\n          this.categoryData = result.data;\n        } else {\n          this.$message.error(result.msg);\n        }\n      });\n      this.axios.get(\"/good/all\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n      }).then(res => {\n        let result = res.data;\n        if (result.code === 'C200') {\n          this.tableData = result.data;\n          this.total = result.total;\n        } else {\n          this.$message.error(result.msg);\n        }\n      });\n    },\n    handleCheck(row) {\n      this.categoryName = row.className;\n      this.axios.get(\"/good/find/\" + this.categoryName).then(res => {\n        let result = res.data;\n        if (result.code === 'C200') {\n          this.tableData = result.data;\n        } else {\n          this.$message.error(result.msg);\n        }\n      });\n    },\n    handleChange(value) {\n      console.log(value);\n    },\n    handleSelectionChange() {},\n    handleSizeChange() {},\n    handleCurrentChange() {}\n  }\n};","map":{"version":3,"names":["name","data","categoryData","categoryName","tableData","pageNum","pageSize","total","created","load","methods","axios","get","then","res","result","code","$message","error","msg","params","handleCheck","row","className","handleChange","value","console","log","handleSelectionChange","handleSizeChange","handleCurrentChange"],"sources":["src/views/shopview/CategoryView.vue"],"sourcesContent":["<template>\n  <div>\n    <el-table\n        :data=\"categoryData\"\n        style=\"width: 100%; border-radius: 10px\">\n        <el-table-column prop=\"className\" label=\"类别\" align=\"center\"/>\n        <el-table-column label=\"图标\" align=\"center\">\n            <template slot-scope=\"scope\">\n            <i :class=\"scope.row.icon\" style=\"font-size: 20px\"/>\n            </template>\n        </el-table-column>\n        <el-table-column prop=\"count\" label=\"数量\" align=\"center\"/>\n        <el-table-column prop=\"option\" label=\"操作\" align=\"center\">\n            <template  slot-scope=\"scope\">\n                <el-button type=\"success\" @click=\"handleCheck(scope.row)\">查看</el-button>\n                <el-button type=\"success\" @click=\"handleAdd(scope.row)\">添加</el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n    <el-divider></el-divider>\n    <el-card class=\"box-card\">\n        <el-table\n            :data=\"tableData\"\n            height=\"60vh\"\n            style=\"width: 100%; border-radius: 10px\"\n            @selection-change=\"handleSelectionChange\">\n            <el-table-column type=\"selection\" width=\"50\"/>\n            <el-table-column prop=\"goodName\" label=\"名称\" align=\"center\"/>\n            <el-table-column prop=\"detail\" label=\"描述\" align=\"center\"/>\n            <el-table-column prop=\"className\" label=\"类别\" align=\"center\"/>\n            <el-table-column label=\"库存\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <div v-if=\"scope.row.className == 'ink'\">\n                        <el-input-number v-model=\"scope.row.repository\" @change=\"handleChange\" :min=\"1\" :max=\"1\" :disabled=\"true\"></el-input-number></div>\n                    <div v-else-if=\"scope.row.goodName == 'electronic'\">\n                        <el-input-number v-model=\"scope.row.repository\" @change=\"handleChange\" :min=\"1\"  :max=\"1\" :disabled=\"true\"></el-input-number></div>\n                    <div v-else-if=\"scope.row.goodName == 'electroenve'\">\n                        <el-input-number v-model=\"scope.row.repository\" @change=\"handleChange\" :min=\"1\"  :max=\"1\" :disabled=\"true\"></el-input-number></div>\n                    <div v-else>\n                        <el-input-number v-model=\"scope.row.repository\" @change=\"handleChange\" :min=\"0\" :max=\"99\"></el-input-number>\n                    </div>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\">\n                <template  slot-scope=\"scope\">\n                    <el-button type=\"success\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                    <el-button type=\"danger\" @click=\"handledelete(scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <div style=\"padding: 10px 0\">\n            <el-pagination\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"pageNum\"\n                :page-size=\"pageSize\"\n                :page-sizes=\"[2, 5, 10, 15]\"\n                :total=\"total\"\n                layout=\"total, sizes, prev, pager, next, jumper\">\n            </el-pagination>\n        </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n    name: \"CategoryView\",\n    data() {\n        return {\n            categoryData: [],\n            categoryName: \"\",\n            tableData: [],\n            pageNum: 1,\n            pageSize: 5,\n            total: 0,\n        }\n    },\n    created() {\n        this.load();\n    },\n    methods: {\n        load() {\n            this.axios.get(\"/category/all\").then(res => {\n                let result = res.data;\n                if (result.code === 'C200') {\n                    this.categoryData = result.data;\n                } else {\n                    this.$message.error(result.msg);\n                }\n            })\n            this.axios.get(\"/good/all\", {\n                params: {\n                   pageNum: this.pageNum,\n                   pageSize: this.pageSize \n                }\n            }).then(res => {\n                let result = res.data;\n                if (result.code === 'C200') {\n                    this.tableData = result.data;\n                    this.total = result.total;\n                } else {\n                    this.$message.error(result.msg);\n                }\n            })\n        },\n        handleCheck(row) {\n            this.categoryName = row.className;\n            this.axios.get(\"/good/find/\"+this.categoryName).then(res => {\n                let result = res.data;\n                if (result.code === 'C200') {\n                    this.tableData = result.data;\n                } else {\n                    this.$message.error(result.msg);\n                }\n            })\n        },\n        handleChange(value) {\n            console.log(value);\n        },\n        handleSelectionChange() {\n\n        },\n        handleSizeChange() {\n\n        },\n        handleCurrentChange() {\n\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":"AAkEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,YAAA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAD,KAAA;MACA,KAAAE,KAAA,CAAAC,GAAA,kBAAAC,IAAA,CAAAC,GAAA;QACA,IAAAC,MAAA,GAAAD,GAAA,CAAAb,IAAA;QACA,IAAAc,MAAA,CAAAC,IAAA;UACA,KAAAd,YAAA,GAAAa,MAAA,CAAAd,IAAA;QACA;UACA,KAAAgB,QAAA,CAAAC,KAAA,CAAAH,MAAA,CAAAI,GAAA;QACA;MACA;MACA,KAAAR,KAAA,CAAAC,GAAA;QACAQ,MAAA;UACAf,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA;QACA;MACA,GAAAO,IAAA,CAAAC,GAAA;QACA,IAAAC,MAAA,GAAAD,GAAA,CAAAb,IAAA;QACA,IAAAc,MAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,MAAA,CAAAd,IAAA;UACA,KAAAM,KAAA,GAAAQ,MAAA,CAAAR,KAAA;QACA;UACA,KAAAU,QAAA,CAAAC,KAAA,CAAAH,MAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAE,YAAAC,GAAA;MACA,KAAAnB,YAAA,GAAAmB,GAAA,CAAAC,SAAA;MACA,KAAAZ,KAAA,CAAAC,GAAA,sBAAAT,YAAA,EAAAU,IAAA,CAAAC,GAAA;QACA,IAAAC,MAAA,GAAAD,GAAA,CAAAb,IAAA;QACA,IAAAc,MAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,MAAA,CAAAd,IAAA;QACA;UACA,KAAAgB,QAAA,CAAAC,KAAA,CAAAH,MAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAK,aAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;IACA;IACAG,sBAAA,GAEA;IACAC,iBAAA,GAEA;IACAC,oBAAA,GAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}