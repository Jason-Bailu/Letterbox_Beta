{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"RegisterView\",\n  data() {\n    return {\n      user: {},\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 4,\n          max: 10,\n          message: '长度在 4 到 10 个字符',\n          trigger: 'blur'\n        }],\n        nickname: [{\n          required: true,\n          message: '请输入昵称',\n          trigger: 'blur'\n        }, {\n          min: 4,\n          max: 10,\n          message: '长度在 4 到 10 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 10,\n          message: '长度在 6 到 10 个字符',\n          trigger: 'blur'\n        }],\n        confirmPassword: [{\n          required: true,\n          message: '请输入确认密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 10,\n          message: '长度在 6 到 10 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    register() {\n      this.$refs['userForm'].validate(valid => {\n        if (valid) {\n          if (this.user.password != this.user.confirmPassword) {\n            this.$message.error(\"密码不一致\");\n            return false;\n          }\n          this.axios.post(\"/user/register\", this.user).then(res => {\n            let result = res.data;\n            if (result.code === 'C200') {\n              this.$message.success(\"注册成功\");\n              this.$router.push(\"/login\");\n            } else if (result.code === 'C400') {\n              this.$message.error(result.msg);\n            } else {\n              this.$message.error(result.msg);\n            }\n          }).catch(error => {\n            this.$message.error(error.response.data.msg);\n            this.$store.commit(\"logout\");\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","rules","username","required","message","trigger","min","max","nickname","password","confirmPassword","methods","register","$refs","validate","valid","$message","error","axios","post","then","res","result","code","success","$router","push","msg","catch","response","$store","commit"],"sources":["src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div style=\"margin: 150px auto; background-color: #fff; width: 350px; height: 400px; padding: 20px; border-radius: 10px\">\n      <div style=\"margin: 20px 0; text-align: center; font-size: 24px\"><b>注册</b></div>\n      <el-form :model=\"user\" :rules=\"rules\" ref=\"userForm\">\n        <el-form-item prop=\"username\">\n          <el-input  size=\"medium\" placeholder=\"用户名\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-user\" v-model=\"user.username\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"nickname\">\n          <el-input  size=\"medium\" placeholder=\"昵称\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-user\" v-model=\"user.nickname\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input size=\"medium\" placeholder=\"密码\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-lock\" show-password v-model=\"user.password\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"confirmPassword\">\n          <el-input size=\"medium\" placeholder=\"确认密码\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-lock\" show-password v-model=\"user.confirmPassword\"></el-input>\n        </el-form-item>\n        <el-form-item style=\"margin: 10px 0; text-align: right\">\n          <el-button type=\"primary\" size=\"small\" autocomplete=\"off\" @click=\"register\">确定</el-button>\n          <el-button type=\"warning\" size=\"small\" autocomplete=\"off\" @click=\"$router.push('/login')\">登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"RegisterView\",\n  data() {\n    return {\n      user: {},\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 4, max: 10, message: '长度在 4 到 10 个字符', trigger: 'blur' }\n        ],\n        nickname: [\n          { required: true, message: '请输入昵称', trigger: 'blur' },\n          { min: 4, max: 10, message: '长度在 4 到 10 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, max: 10, message: '长度在 6 到 10 个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请输入确认密码', trigger: 'blur' },\n          { min: 6, max: 10, message: '长度在 6 到 10 个字符', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    register() {\n      this.$refs['userForm'].validate((valid) => {\n        if (valid) {\n          if (this.user.password != this.user.confirmPassword) {\n            this.$message.error(\"密码不一致\");\n            return false;\n          }\n          this.axios.post(\"/user/register\", this.user).then(res => {\n            let result = res.data;\n            if (result.code === 'C200') {\n              this.$message.success(\"注册成功\");\n              this.$router.push(\"/login\");\n            } else if (result.code === 'C400') {\n              this.$message.error(result.msg);\n            } else {\n              this.$message.error(result.msg);\n            }\n          }).catch(error => {\n            this.$message.error(error.response.data.msg);\n            this.$store.commit(\"logout\");\n          })\n        } else {\n          return false;\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.wrapper {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-image: url(\"../assets/bg.jpg\");\n  background-size: 100% 100%;\n}\n</style>\n"],"mappings":";AA2BA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,KAAA;QACAC,QAAA,GACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAG,QAAA,GACA;UAAAL,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAI,QAAA,GACA;UAAAN,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAK,eAAA,GACA;UAAAP,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAM,OAAA;IACAC,SAAA;MACA,KAAAC,KAAA,aAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,SAAAf,IAAA,CAAAS,QAAA,SAAAT,IAAA,CAAAU,eAAA;YACA,KAAAM,QAAA,CAAAC,KAAA;YACA;UACA;UACA,KAAAC,KAAA,CAAAC,IAAA,wBAAAnB,IAAA,EAAAoB,IAAA,CAAAC,GAAA;YACA,IAAAC,MAAA,GAAAD,GAAA,CAAAtB,IAAA;YACA,IAAAuB,MAAA,CAAAC,IAAA;cACA,KAAAP,QAAA,CAAAQ,OAAA;cACA,KAAAC,OAAA,CAAAC,IAAA;YACA,WAAAJ,MAAA,CAAAC,IAAA;cACA,KAAAP,QAAA,CAAAC,KAAA,CAAAK,MAAA,CAAAK,GAAA;YACA;cACA,KAAAX,QAAA,CAAAC,KAAA,CAAAK,MAAA,CAAAK,GAAA;YACA;UACA,GAAAC,KAAA,CAAAX,KAAA;YACA,KAAAD,QAAA,CAAAC,KAAA,CAAAA,KAAA,CAAAY,QAAA,CAAA9B,IAAA,CAAA4B,GAAA;YACA,KAAAG,MAAA,CAAAC,MAAA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}